---
author: Jerry Hsia
title: Cocos2d-x学习笔记：02-屏幕适配
excerpt:
layout: post
views:
  - 100
category:
  - Cocos2d-x
tags:
  - Cocos2d-x
post_format: [ ]
---
学习Cocos2d-x一段时间了，这几天将小例子代码移植到Android上发现不能全屏显示，代码中使用的尺寸是480\*320，Android中屏幕分辨率是800\*480，之前也大致听说移动平台屏幕尺寸适配很麻烦。今天查询了相关文档，发现Cocos2d-x已经做好了适配了，只需要通过简单设置即可，不知道这是不是最终方法，先小高兴一下。

具体方法是通过CCEGLView的方法来设置

    #include "AppDelegate.h"
    #include "HelloWorldScene.h"
    
    USING_NS_CC;
    
    AppDelegate::AppDelegate() {
    
    }
    
    AppDelegate::~AppDelegate() 
    {
    }
    
    bool AppDelegate::applicationDidFinishLaunching() {
        // initialize director
        CCDirector* pDirector = CCDirector::sharedDirector();
        CCEGLView* pEGLView = CCEGLView::sharedOpenGLView();
    
        pDirector->setOpenGLView(pEGLView);
        pEGLView->setDesignResolutionSize(800, 400, kResolutionExactFit);//这里配置屏幕适配模式
        // turn on display FPS
        pDirector->setDisplayStats(true);
    
        // set FPS. the default value is 1.0/60 if you don't call this
        pDirector->setAnimationInterval(1.0 / 60);
        // create a scene. it's an autorelease object
        CCScene *pScene = HelloWorld::scene();
        // run
        pDirector->runWithScene(pScene);
    
        return true;
    }
    
    // This function will be called when the app is inactive. When comes a phone call,it's be invoked too
    void AppDelegate::applicationDidEnterBackground() {
        CCDirector::sharedDirector()->stopAnimation();
    
        // if you use SimpleAudioEngine, it must be pause
        // SimpleAudioEngine::sharedEngine()->pauseBackgroundMusic();
    }
    
    // this function will be called when the app is active again
    void AppDelegate::applicationWillEnterForeground() {
        CCDirector::sharedDirector()->startAnimation();
    
        // if you use SimpleAudioEngine, it must resume here
        // SimpleAudioEngine::sharedEngine()->resumeBackgroundMusic();
    }

这里贴上官方注释，说得很清楚：

    /**
         * Set the design resolution size.
         * @param width Design resolution width.
         * @param height Design resolution height.
         * @param resolutionPolicy The resolution policy desired, you may choose:
         * [1] kResolutionExactFit Fill screen by stretch-to-fit: if the design resolution ratio of width to height is different from the screen resolution ratio, your game view will be stretched.
         * [2] kResolutionNoBorder Full screen without black border: if the design resolution ratio of width to height is different from the screen resolution ratio, two areas of your game view will be cut.
         * [3] kResolutionShowAll  Full screen with black border: if the design resolution ratio of width to height is different from the screen resolution ratio, two black borders will be shown.
         */
        virtual void setDesignResolutionSize(float width, float height, ResolutionPolicy resolutionPolicy);

 