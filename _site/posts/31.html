<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="This is Jerry's Blog">
  <meta name="author" content="Jerry Hsia">
  
  <meta name="keywords" content="Cocos2d-x学习笔记：01-开发环境搭建
, Jerry's Blog, Jerry Hsia">
  
  
  <title>Cocos2d-x学习笔记：01-开发环境搭建
 - Jerry's Blog</title>
  
  
  <link rel="canonical" href="http://xiajie.me/posts/31.html">
  
  <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/assets/css/public.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/light.js"></script>
</head>
<body>
  <div id="blog">
    <div class="sidebar">
  <div class="profilepic">
    <a href="/"><img src="/assets/img/avatar.jpg" alt="logo"></img></a>
  </div>
  <h1 class="title"><a href="/">Jerry's Blog</a></h1>
  <h2 class="sub-title">To strive to become a habit</h2>
  <nav id="nav">
    <ul>
    
      <li><a href="/pages/timing.html"><i class="fa fa-clock-o"></i>&nbsp;时间轴</a></li>
    
      <li><a href="/pages/category.html"><i class="fa fa-tags"></i>&nbsp;分类</a></li>
    
      <li><a href="/pages/read.html"><i class="fa fa-book"></i>&nbsp;阅读</a></li>
    
      <li><a href="/pages/about.html"><i class="fa fa-paper-plane-o"></i>&nbsp;关于</a></li>
    
    </ul>
  </nav>  
  <nav id="sub-nav">
    <a class="weibo " href="http://weibo.com/u/5142885740" title="新浪微博" target="_blank"><i class="fa fa-weibo"></i></a>
    <a class="github" href="https://github.com/Jerry9916" title="GitHub" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    <a class="rss" href="/page/feed.xml" title="RSS订阅" target="_blank"><i class="fa fa-rss"></i></a>
  </nav>
</div>

    <div class="main">
    <header class="post-header">
  <h1 class="post-title"><a href="/posts/31.html">Cocos2d-x学习笔记：01-开发环境搭建
</a></h2>
  <p class="post-meta">
    <i class="fa fa-calendar"></i>
    2014年03月31日
    <i class="space"></i>
    <i class="fa fa-tags"></i>
    <a class="post-category" href="/pages/category.html#cocos2d-x">cocos2d-x</a>	
  </p>
</header>
<div class="post-main">
<p>最近开始学习Cocos2d-x，首先就是搭建环境的问题了，官方最然已经发布了3.0版本，但我学习还是从2.X开始，主要是2.X学习资料比较丰富吧，搭建环境对最初学者来说大多是头疼事，自己也走了一些弯路，主要是版本的区别，搭建环境方式不同。</p>

<p> </p>

<p>我学习使用的版本是2.2.3，这里就针对这一版本来写一下详细的搭建过程(主要针对Windows和Android)。</p>

<p>一、Windows平台</p>

<p>1、从下载http://www.cocos2d-x.org/源码。</p>

<p>2、下载安装Visual Studio。</p>

<p>3、直接可打开Cocos2d-x目录下cocos2d-winrt.vc201*.sln，编译、运行。</p>

<p>4、安装Python将Python根目录及Lib子目录加入环境变量。</p>

<p>5、在Cocos2d-x目录下\tools\project-creator这里启动命令行输入一下命令生成各平台项目：</p>

<pre><code>python create_project.py -project MyGame -package me.xiajie.mygame -language cpp
</code></pre>

<p>MyGame是项目名，me.xiajie.mygame是包名。</p>

<p>至此Windows环境算是搭建完成。</p>

<p> </p>

<p>二、Android平台</p>

<p>Android平台就需要折腾了，博主也一样。</p>

<p>1、下载安装JDK、Eclipse、Android SDK这不难吧。</p>

<p>2、下载安装Android NDK(http://developer.android.com/sdk/ndk/index.html)。</p>

<p>3、下载安装cygwin</p>

<p>由于NDK编译代码时必须要用到make和gcc，所以你必须先搭建一个linux环境， cygwin是一个在windows平台上运行的unix模拟环境,它对于学习unix/linux操作环境，或者从unix到windows的应用程序移植，非常有用。通过它，你就可以在不安装linux的情况下使用NDK来编译C、C++代码了。安装后测试一下cygwin是不是已经安装好了。</p>

<p>运行cygwin，在弹出的命令行窗口输入：cygcheck -c cygwin命令，会打印出当前cygwin的版本和运行状态，如果status是ok的话，则cygwin运行正常。</p>

<p>然后依次输入gcc –v，g++ -v，make –v，gdb –v进行测试，如果都打印出版本信息和一些描述信息，非常高兴的告诉你，你的cygwin安装完成了！</p>

<p>4、配置NDK环境变量</p>

<p>(1)首先找到cygwin的安装目录，找到一个home&lt;你的用户名&gt;.bash_profile文件，我的是：E:\cygwin\home\Administrator.bash_profile，(注意：我安装的时候我的home文件夹下面神马都没有，解决 的办法：首先打开环境变量，把里面的用户变量中的HOME变量删掉，在E:\cygwin\home文件夹下建立名为Administrator的文件夹（是用户名），然后把E:\cygwin\etc\skel.bash_profile拷贝到该文件夹下)。</p>

<p>(2)打开bash_profile文件，添加NDK=/cygdrive/<你的盘符>/<android ndk="" 目录=""> 例如：NDK=/cygdrive/e/android-ndk-r5</android></你的盘符></p>

<p>export NDK</p>

<p>NDK这个名字是随便取的，为了方面以后使用方便，选个简短的名字，然后保存</p>

<p>(3)打开cygwin，输入cd $NDK，如果输出上面配置的/cygdrive/e/android-ndk-r5信息，则表明环境变量设置成功了。</p>

<p>5、用NDK来编译程序<br />
1、 现在我们用安装好的NDK来编译一个简单的程序吧，我们选择ndk自带的例子hello-jni，我的位于E:\android-ndk-r7\samples\hello-jni(根据你具体的安装位置而定)，</p>

<p>2、 运行cygwin，输入命令cd /cygdrive/e/android-ndk-r7/samples/hello-jni，进入到E:\android-ndk-r7\samples\hello-jni目录。</p>

<p>3、 输入$NDK/ndk-build，执行成功后，它会自动生成一个libs目录，把编译生成的.so文件放在里面。($NDK是调用我们之前配置好的环境变量，ndk-build是调用ndk的编译程序)</p>

<p>4、 此时去hello-jni的libs目录下看有没有生成的.so文件，如果有，你的ndk就运行正常啦！</p>

<p>5、用cygwin编译我们产生的工程</p>

<p>用cygwin cd进入到Cocos2d-x的projects找到刚才创建的项目MyGame，进入proj.android执行./build_native.sh，编译完成后打开Eclipse将项目导入用模拟器运行。</p>

<p> </p>

<p><strong>由于过程比较复杂，本文仅讲述了比较重要的一些步骤，一些安装细节未做描述，如有不明白请留言或查阅other资料，谢谢！</strong></p>

</div>
<div class="pagination">

<a class="pagination-item newer" href="/posts/30.html"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;ThinkPHP连续插入数据时的BUG</a>


<a class="pagination-item older" href="/posts/32.html">Cocos2d-x学习笔记：02-屏幕适配&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></a>

</div>
<style>#ds-reset .ds-avatar img{border-radius:50%;}</style>
<div class="comments">
  <div class="ds-thread" data-title="Cocos2d-x学习笔记：01-开发环境搭建
" data-thread-key="/posts/31" data-url="http://xiajie.me/posts/31.html"></div>
  <script type="text/javascript">var duoshuoQuery = {short_name:"jerry9916"};(function(){var ds = document.createElement('script');ds.type = 'text/javascript';ds.async = true;ds.src = '/assets/js/embed.js';ds.charset = 'UTF-8';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);})();</script>
</div>

    
    <footer>Copyright&nbsp;&copy;&nbsp;2014 <a href="http://xiajie.me">Jerry's Blog</a></footer>

    
    </div>
  </div>    
  <div id="top">
    <a id="rocket" href="javascript:void(0);" title="返回顶部"><i></i></a>
  </div>
  
</body>
</html>
